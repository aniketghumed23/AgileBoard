{"ast":null,"code":"var _jsxFileName = \"/Users/aniketghumed/Documents/personal_projects/SSDI_project/trello-clone-mern-master/client/src/Components/Modals/EditCardModal/Checklist/Checklist.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Container, Row, LeftColumn, RightColumn, Title, Percentage, CheckText, RowRightButtonsWrapper, IconWrapper, TextAreaContainer, TextArea } from './styled';\nimport CheckIcon from '@mui/icons-material/LibraryAddCheckOutlined';\nimport BottomButtonGroup from '../../../Pages/BoardPage/BoardComponents/BottomButtonGroup/BottomButtonGroup.js';\nimport Checkbox from '../ReUsableComponents/Checkbox';\nimport Button from '../ReUsableComponents/Button';\nimport Progressbar from '../ReUsableComponents/Progressbar';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { checklistDelete, checklistItemAdd, checklistItemCompletedSet, checklistItemDelete, checklistItemTextSet } from '../../../../Services/cardService';\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Checklist = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const dispatch = useDispatch();\n  const card = useSelector(state => state.card);\n  const [showAddItem, setShowAddItem] = useState(false);\n  const [newItem, setNewItem] = useState('');\n  const [hideItems, setHideItems] = useState(false);\n\n  const percentage = () => {\n    if (props.items.length === 0) return 0;\n    const completed = props.items.filter(item => item.completed);\n    return Math.round(100 - (props.items.length - completed.length) / props.items.length * 100);\n  };\n\n  const handleChecklistDelete = async checklistId => {\n    await checklistDelete(card.cardId, card.listId, card.boardId, checklistId, dispatch);\n  };\n\n  const handleAddChecklistItem = async checklistId => {\n    setShowAddItem(false);\n    await checklistItemAdd(card.cardId, card.listId, card.boardId, checklistId, newItem, dispatch);\n    setNewItem('');\n  };\n\n  const ChecklistItem = props => {\n    _s();\n\n    const [checked] = useState(props.completed);\n    const [showEdit, setShowEdit] = useState(false);\n    const [editedText, setEditedText] = useState(props.text);\n\n    const handleChecklistItemDeleteClick = async () => {\n      await checklistItemDelete(card.cardId, card.listId, card.boardId, props.checklistId, props._id, dispatch);\n    };\n\n    const handleCompletedChange = async () => {\n      await checklistItemCompletedSet(card.cardId, card.listId, card.boardId, props.checklistId, props._id, !checked, dispatch);\n    };\n\n    const handleTextChange = async () => {\n      await checklistItemTextSet(card.cardId, card.listId, card.boardId, props.checklistId, props._id, editedText, dispatch);\n    };\n\n    return /*#__PURE__*/_jsxDEV(Row, {\n      showHover: true,\n      children: [/*#__PURE__*/_jsxDEV(LeftColumn, {\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          checked: checked,\n          clickCallback: handleCompletedChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RightColumn, {\n        children: showEdit ? /*#__PURE__*/_jsxDEV(TextAreaContainer, {\n          children: [/*#__PURE__*/_jsxDEV(TextArea, {\n            value: editedText,\n            onChange: e => setEditedText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(BottomButtonGroup, {\n            title: \"Save\",\n            clickCallback: handleTextChange,\n            closeCallback: () => {\n              setShowEdit(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(CheckText, {\n            onClick: () => {\n              setShowEdit(true);\n            },\n            isChecked: checked,\n            children: props.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(IconWrapper, {\n            onClick: handleChecklistItemDeleteClick,\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n              fontSize: \"1rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this);\n  };\n\n  _s(ChecklistItem, \"f0/7MPOG4m+VXn4n5PKW0lwoEMU=\");\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(LeftColumn, {\n        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RightColumn, {\n        makeColumn: true,\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: props.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(RowRightButtonsWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            clickCallback: () => setHideItems(prev => !prev),\n            title: hideItems ? 'Show checkeds' : 'Hide checkeds'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            clickCallback: () => handleChecklistDelete(props._id),\n            title: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(LeftColumn, {\n        children: /*#__PURE__*/_jsxDEV(Percentage, {\n          children: [percentage(), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RightColumn, {\n        children: /*#__PURE__*/_jsxDEV(Progressbar, {\n          value: percentage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 4\n    }, this), props.items.map(item => {\n      if (hideItems && item.completed) return undefined;\n      return /*#__PURE__*/_jsxDEV(ChecklistItem, {\n        checklistId: props._id,\n        ...item\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 12\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(LeftColumn, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RightColumn, {\n        children: showAddItem ? /*#__PURE__*/_jsxDEV(TextAreaContainer, {\n          children: [/*#__PURE__*/_jsxDEV(TextArea, {\n            value: newItem,\n            onChange: e => setNewItem(e.target.value),\n            placeholder: \"Add an item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(BottomButtonGroup, {\n            title: \"Add\",\n            clickCallback: () => handleAddChecklistItem(props._id),\n            closeCallback: () => setShowAddItem(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          clickCallback: () => setShowAddItem(true),\n          title: \"Add an item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Checklist, \"N9sTDOGuHS11WzR3MS4dZd3JlNE=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Checklist;\nexport default Checklist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checklist\");","map":{"version":3,"sources":["/Users/aniketghumed/Documents/personal_projects/SSDI_project/trello-clone-mern-master/client/src/Components/Modals/EditCardModal/Checklist/Checklist.js"],"names":["React","useState","Container","Row","LeftColumn","RightColumn","Title","Percentage","CheckText","RowRightButtonsWrapper","IconWrapper","TextAreaContainer","TextArea","CheckIcon","BottomButtonGroup","Checkbox","Button","Progressbar","useDispatch","useSelector","checklistDelete","checklistItemAdd","checklistItemCompletedSet","checklistItemDelete","checklistItemTextSet","DeleteIcon","Checklist","props","dispatch","card","state","showAddItem","setShowAddItem","newItem","setNewItem","hideItems","setHideItems","percentage","items","length","completed","filter","item","Math","round","handleChecklistDelete","checklistId","cardId","listId","boardId","handleAddChecklistItem","ChecklistItem","checked","showEdit","setShowEdit","editedText","setEditedText","text","handleChecklistItemDeleteClick","_id","handleCompletedChange","handleTextChange","e","target","value","title","prev","map","undefined"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n\tContainer,\n\tRow,\n\tLeftColumn,\n\tRightColumn,\n\tTitle,\n\tPercentage,\n\tCheckText,\n\tRowRightButtonsWrapper,\n\tIconWrapper,\n\tTextAreaContainer,\n\tTextArea,\n} from './styled';\nimport CheckIcon from '@mui/icons-material/LibraryAddCheckOutlined';\nimport BottomButtonGroup from '../../../Pages/BoardPage/BoardComponents/BottomButtonGroup/BottomButtonGroup.js';\nimport Checkbox from '../ReUsableComponents/Checkbox';\nimport Button from '../ReUsableComponents/Button';\nimport Progressbar from '../ReUsableComponents/Progressbar';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n\tchecklistDelete,\n\tchecklistItemAdd,\n\tchecklistItemCompletedSet,\n\tchecklistItemDelete,\n\tchecklistItemTextSet,\n} from '../../../../Services/cardService';\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined';\n\nconst Checklist = (props) => {\n\tconst dispatch = useDispatch();\n\tconst card = useSelector((state) => state.card);\n\tconst [showAddItem, setShowAddItem] = useState(false);\n\tconst [newItem, setNewItem] = useState('');\n\tconst [hideItems, setHideItems] = useState(false);\n\tconst percentage = () => {\n\t\tif (props.items.length === 0) return 0;\n\t\tconst completed = props.items.filter((item) => item.completed);\n\t\treturn Math.round(100 - ((props.items.length - completed.length) / props.items.length) * 100);\n\t};\n\n\tconst handleChecklistDelete = async (checklistId) => {\n\t\tawait checklistDelete(card.cardId, card.listId, card.boardId, checklistId, dispatch);\n\t};\n\n\tconst handleAddChecklistItem = async (checklistId) => {\n\t\tsetShowAddItem(false);\n\t\tawait checklistItemAdd(card.cardId, card.listId, card.boardId, checklistId, newItem, dispatch);\n\t\tsetNewItem('');\n\t};\n\n\tconst ChecklistItem = (props) => {\n\t\tconst [checked] = useState(props.completed);\n\t\tconst [showEdit, setShowEdit] = useState(false);\n\t\tconst [editedText, setEditedText] = useState(props.text);\n\n\t\tconst handleChecklistItemDeleteClick = async () => {\n\t\t\tawait checklistItemDelete(card.cardId, card.listId, card.boardId, props.checklistId, props._id, dispatch);\n\t\t};\n\n\t\tconst handleCompletedChange = async () => {\n\t\t\tawait checklistItemCompletedSet(\n\t\t\t\tcard.cardId,\n\t\t\t\tcard.listId,\n\t\t\t\tcard.boardId,\n\t\t\t\tprops.checklistId,\n\t\t\t\tprops._id,\n\t\t\t\t!checked,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t};\n\n\t\tconst handleTextChange = async () => {\n\t\t\tawait checklistItemTextSet(\n\t\t\t\tcard.cardId,\n\t\t\t\tcard.listId,\n\t\t\t\tcard.boardId,\n\t\t\t\tprops.checklistId,\n\t\t\t\tprops._id,\n\t\t\t\teditedText,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<Row showHover={true}>\n\t\t\t\t<LeftColumn>\n\t\t\t\t\t<Checkbox checked={checked} clickCallback={handleCompletedChange} />\n\t\t\t\t</LeftColumn>\n\t\t\t\t<RightColumn>\n\t\t\t\t\t{showEdit ? (\n\t\t\t\t\t\t<TextAreaContainer>\n\t\t\t\t\t\t\t<TextArea value={editedText} onChange={(e) => setEditedText(e.target.value)} />\n\t\t\t\t\t\t\t<BottomButtonGroup\n\t\t\t\t\t\t\t\ttitle='Save'\n\t\t\t\t\t\t\t\tclickCallback={handleTextChange}\n\t\t\t\t\t\t\t\tcloseCallback={() => {\n\t\t\t\t\t\t\t\t\tsetShowEdit(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TextAreaContainer>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<CheckText\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShowEdit(true);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tisChecked={checked}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{props.text}\n\t\t\t\t\t\t\t</CheckText>\n\t\t\t\t\t\t\t<IconWrapper onClick={handleChecklistItemDeleteClick}>\n\t\t\t\t\t\t\t\t<DeleteIcon fontSize='1rem' />\n\t\t\t\t\t\t\t</IconWrapper>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</RightColumn>\n\t\t\t</Row>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row >\n\t\t\t\t<LeftColumn>\n\t\t\t\t\t<CheckIcon fontSize='small' />\n\t\t\t\t</LeftColumn>\n\t\t\t\t<RightColumn makeColumn={true}>\n\t\t\t\t\t<Title>{props.title}</Title>\n\t\t\t\t\t<RowRightButtonsWrapper>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclickCallback={() => setHideItems((prev) => !prev)}\n\t\t\t\t\t\t\ttitle={hideItems ? 'Show checkeds' : 'Hide checkeds'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button clickCallback={() => handleChecklistDelete(props._id)} title='Delete' />\n\t\t\t\t\t</RowRightButtonsWrapper>\n\t\t\t\t</RightColumn>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<LeftColumn>\n\t\t\t\t\t<Percentage>{percentage()}%</Percentage>\n\t\t\t\t</LeftColumn>\n\t\t\t\t<RightColumn>\n\t\t\t\t\t<Progressbar value={percentage()} />\n\t\t\t\t</RightColumn>\n\t\t\t</Row>\n\n\t\t\t{props.items.map((item) => {\n\t\t\t\tif (hideItems && item.completed) return undefined;\n\t\t\t\treturn <ChecklistItem key={item._id} checklistId={props._id} {...item} />;\n\t\t\t})}\n\n\t\t\t<Row>\n\t\t\t\t<LeftColumn></LeftColumn>\n\t\t\t\t<RightColumn>\n\t\t\t\t\t{showAddItem ? (\n\t\t\t\t\t\t<TextAreaContainer>\n\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\tvalue={newItem}\n\t\t\t\t\t\t\t\tonChange={(e) => setNewItem(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder='Add an item'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<BottomButtonGroup\n\t\t\t\t\t\t\t\ttitle='Add'\n\t\t\t\t\t\t\t\tclickCallback={() => handleAddChecklistItem(props._id)}\n\t\t\t\t\t\t\t\tcloseCallback={() => setShowAddItem(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TextAreaContainer>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button clickCallback={() => setShowAddItem(true)} title='Add an item' />\n\t\t\t\t\t)}\n\t\t\t\t</RightColumn>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default Checklist;\n"]},"metadata":{},"sourceType":"module"}